========
操作手冊
========

「跨領域區域研究資料集」（https://data.depositar.io，下稱「本平台」）為採用開源資料管理軟體 `CKAN <http://ckan.org>`_ 開發，提供區域研究資料儲存、管理與瀏覽之系統。

本操作手冊說明如何使用CKAN介面管理、發布及搜尋資料。CKAN同時提供功能豐富的API介面，讓開發者更易於自行擴充功能或是連結至其他資訊系統。相關API資訊可參考 `官方API文件 <http://docs.ckan.org/en/latest/api/index.html>`_ 。

部分CKAN使用者介面功能僅限於系統管理員操作，相關說明請參考 `官方系統管理者文件 <http://docs.ckan.org/en/latest/sysadmin-guide.html>`_ 。

.. note::

   本手冊翻譯與修改自Open Knowledge International and contributors.編寫之 `CKAN 2.6.4 documentation <http://docs.ckan.org/en/ckan-2.6.4/user-guide.html>`_ ，該作品以 `創用CC姓名標示-相同方式分享 3.0 未本地化 <http://creativecommons.org/licenses/by-sa/3.0/>`_ 授權釋出。

--------
CKAN簡介
--------

CKAN為用來建立開放資料平台的開源軟體（類似於內容管理系統WordPress，但非用於管理頁面與部落格等資訊，而是用來管理「資料」），在CKAN平台上可管理與發布資料集。目前CKAN已廣為各國家政府、地方政府及研究機構等收集有大量資料集的單位所採用。

當資料發布於CKAN後，任何使用者可透過其提供的資料搜尋功能，搜尋或瀏覽他們所需的資料，並且可以在網頁上直接瀏覽資料的樣貌（包括地圖、縮圖、表格等類型）。

資料集與資源
============

在CKAN的運作機制上，資料的發布單元稱之為「資料集」，「資料集」顧名思義為資料的集合，舉例而言，資料集可以是一個區域的犯罪統計資料、政府部門的經費收支圖表，或者是由各類型天氣測站所觀測到的溫度數據。當使用者在CKAN上搜尋資料時，所呈現的搜尋結果即為資料集。

資料集包含：

* **詮釋資料**：即為資料集的描述，例如：資料集的標題、產製者、發布日期、資料格式、該資料集以何種方式授權使用等相關說明資訊。

* **資源**：即實際的資料本身，CKAN可以存放任何檔案類型或格式的資料。一份「資源」可以是CSV檔、Excel試算表、XML檔案、PDF文件、影像檔、RDF格式的鏈結資料等。CKAN可以將各類型的資源儲存在系統內部，或者儲存資源的連結，且一份資料集可以儲存任意數量的資源。例如不同的資源可能儲存不同年份的資料，或是相同的資料以不同格式的資源儲存。

使用者，組織及權限
==================

使用者可於CKAN上註冊使用者帳號進行登入。一般而言，CKAN的資料搜尋功能不需使用者登入即可使用（視該CKAN網站之管理員設定），但CKAN所有的發布功能：新增資料集、編輯資料集等功能則需視使用者的權限才可操作。

而在CKAN中，一份資料集通常會歸屬於一個「組織」內。而一個CKAN網站內可以建立多個組織，例如：若以CKAN作為一個國家政府的資料入口平台，這個平台的組織即有可能是以不同的政府部門做為區分。每個部門可以有該部門自己所屬的作業流程或是授權，來管理該部門資料發布的流程。

組織管理員（通常為建立該組織之使用者）可以設定其他個別的使用者帳號加入該組織，並可根據不同的權限需求，配發不同的組織角色權限予對應之使用者帳號。（例如：一般權限、編輯者權限、管理員權限）。組織內所發布的資料集，預設為組織所私有，且僅限組織內的成員可以瀏覽。而組織內資料集欲公開發布時，則需經較高層級之組織管理者之權限核准。

一般而言，資料集大部分都可以被歸類於由某個特定組織所產生，然而，在CKAN的設計上，資料集允許被設定為不隸屬於任何組織底下；同時，該類資料集即可經由任何登入的CKAN使用者帳號編輯，提供類似於Wiki形式的資料集平台功能。

.. note::

   本使用手冊涵蓋大部分CKAN網頁介面之主要功能，不過根據實務上所架設之CKAN平台的設定，部分功能可能略有差異，例如在一個正式營運的CKAN平台上，系統管理員可能關閉一般使用者帳號建立新組織功能的權限。您可以於CKAN所提供的測試平台網站（http://demo.ckan.org）測試上述所有的功能.

--------
使用CKAN
--------

註冊帳號與登入
==============

.. note::

   當您想發布資料於CKAN或執行一些CKAN所提供的個人化功能時，您必須具有CKAN使用者帳號。但搜尋與下載公開資料集僅需訪客身分即可。

.. note::

   本平台並不開放直接註冊，故以下資訊僅供參考。欲建立本平台使用者帳號之使用者，請參考 :doc:`join-guide` 文件並提出申請。

.. hint::

   本平台另提供一展示用網站（https://demo.depositar.io）供您評估功能。您可於展示用網站自由註冊帳號與測試任何「跨領域區域研究資料集」提供之功能。請留意該展示用網站之資料會定期清除。

請點選頁面上方的「註冊」來建立一組CKAN的帳號，並提供下列資訊：

* *使用者帳號* -- 輸入一組使用者帳號，僅限使用文數字、「--」與「_」符號。

* *全名* -- 顯示於您個人頁面上的名稱。

* *電子郵件* -- 電子郵件為私有資訊，不會公開於CKAN平台上。

* *密碼*

.. image:: /images/register_account.jpg

若您輸入的內容有任何錯誤，CKAN將顯示紅色警告訊息提示您進行修正，當輸入的內容皆正確後，點選「建立帳號」功能鈕，CKAN將建立您的使用者帳號並自動進行登入。

資料發布功能
============

.. _adding_a_new_dataset:

新增資料集
----------

.. note::

   您必須擁有使用者帳號方能新增資料集。欲建立本平台使用者帳號之使用者，請參考 :doc:`join-guide` 文件並提出申請。

**步驟 1**. 連結至「新增資料集」頁面可以透過下列兩種方式：

a) 點選於頁面上方的「資料集」連結，於接下來顯示的資料搜尋頁面上方即可看見「新增資料集」連結。

b) 點選頁面上方的「組織」連結，接下來請選擇您所要發布資料集所隸屬的組織，若您的使用者帳號屬於該組織的成員，則您可以點選在資料集搜尋顯示頁面上的「新增資料集」進行發布。

**步驟 2**. 建立資料集詮釋資料，包含下列欄位：

.. note::

   除了CKAN預設提供的詮釋資料欄位外，CKAN允許開發者可以視其平台所蒐集資料集之特性，擴充對應之詮釋資料項目。而本跨領域區域研究資料集依據所蒐集之研究資料集特性，規劃資料集層級之詮釋資料項目，計有「基本資訊」、「描述資訊」與「管理資訊」三大部分。

.. image:: /images/add_dataset_1.jpg

.. include:: dataset_fields.rst

.. note::

   上述所介紹的欄位，實務上仍建議至少填寫資料描述與授權欄位。請您需確認「組織」欄位所選擇的組織為正確，因為至後續完成資料發布的過程中，本資訊將無法被修改（需後續使用編輯資料集功能）。

**步驟 3**. 當您填寫本頁之詮釋資料資訊完畢後，請選取「下一步：新增資料」按鈕。或者您可選擇「取消」按鈕，放棄本頁所編輯之內容。

.. _add_resource:

**步驟 4**. CKAN接著將顯示「新增資料」頁面。

  .. image:: /images/add_dataset_2.jpg

本頁面將引導您進行新增一個或多個屬於該筆資料集的「資源」。在「檔案」項目上，您可以選擇上傳一個檔案或是新增該筆檔案的連結。

* 若您所要新增的資料為線上資源或API，請在「檔案」項目上點選「連結」鈕，並將線上資源的連結位址填入。

* 若您所要新增的資料位於本機，請在「檔案」項目上點選「上傳」連結，並選擇欲上傳的資料。

**步驟 5**. 新增關於「資源」的描述，CKAN並不強制要求您輸入這些資訊，但實務上仍建議您填寫：

.. include:: resource_fields.rst

**步驟 6**. 若您有其他多筆資源欲新增，請點選「儲存並新增其他項目」按鈕，來新增一筆新的資源。

**步驟 7**. 若您已完成資源的新增，點選「結束」按鈕，CKAN將建立該筆資料集並顯示結果。至此步驟您已成功完成資料集建立。

您現在應該可以於您的訪問的CKAN網站內之搜尋框中，透過輸入資料集的標題、描述內的相關文字來搜尋得到您所建立的資料集。關於搜尋資料的相關參考資訊請參考 :ref:`finding_data` 部分。

跨領域區域研究資料集補充─將資料集加入主題
-----------------------------------------

「主題」為CKAN內設計用以將資料集作為初步分群的機制，其與「組織」主要之差別在於，「主題」機制之劃分不具有資料權屬之特性（詳細可參考 :ref:`creating_an_organization`），亦即在CKAN內一份資料集僅可屬於單一「組織」內，且該組織可以決定該資料集公開與否或組織內成員編輯權限；相較之下，「主題」僅將資料集進行分類，且一個資料集不限定僅屬於單一主題。

本平台參考 `ISO19115 <https://www2.usgs.gov/science/about/thesaurus-full.php?thcode=15>`_ 詮釋資料標準之主題類別分類，建立下列主題群組：

* **農業相關類（farming）**：與動物飼養和/或植物種植有關之主題，例如農耕、灌溉、水栽法、農園、畜牧、病蟲害和家畜。
* **生物生態類（biota）**：與自然環境中植物群和/或動物群有關之主題，例如野生動物、植被、生物科學、生態學、荒漠、海洋生活、溼地、棲息地。
* **土地邊界類（boundaries）**： 與土地權利描述有關之主題，例如行政邊界界線。
* **氣候氣象類（climatologyMeteorology Atmosphere）**：與大氣的處理過程與現象有關之主題，例如雲、天氣、氣候、大氣條件、氣候改變、降雨量。
* **經濟活動類（economy）**：與經濟活動和狀態有關的主題，例如生產、勞動、稅收、貿易、工業、觀光和生態旅遊、林業、漁業、商業或補狩業、 探測和資源開發，如礦物、石油或天然氣。
* **高程資訊類（elevation）**：高於或低於海平面的高程資訊，例如高度、海洋探測、數值高程模型、坡度。 
* **環境活動類（environment）**：與環境資源、保護和保存有關的主題，例如環境汙染、資源浪費、環境衝擊評估、環境監控風險、天然保育區、景觀。
* **地球科學相關類（geoscientificInformation）**：與地球科學有關之主題，例如地球物理學的地物特徵、地質學、 礦產資源、組合科學、地球岩盤的組成起源、地震危機、火山活動、山崩、重力資訊、土壤、永久凍土、水文地質學、侵蝕。
* **健康衛生類（health）**：與健康、健康服務、人文生態學與環境安全有關之主題，例如疾病與身體不適、影響健康的因素、保健法、藥物濫用、身心健康、健康服務。
* **地表覆蓋資訊類（imageryBaseMapsEarthCover）**：與底圖有關之主題，例如地表、地形圖、影像、未分類的影像、文字註記。
* **軍事情報類（intelligenceMilitary）**：與軍事基地、結構、活動有關之主題，例如兵營、訓練場、軍事運輸、情報搜集。
* **水文資訊類（inlandWaters）**：與內陸地區的水特徵物、排水系統和其特性有關之主題，例如河流與冰河、鹽水湖、水資源利用計畫、水壩、水流、水災、水質、水道圖。
* **位置資訊類（location）**：與位置資訊和服務有關之主題，例如地址、控制網、控制點、郵遞區號及服務。
* **海洋資訊類（oceans）**：與鹽水水體的特徵物和其特性（包含內陸地區）有關之主題，例如潮汐、受潮汐影響的浪潮、海岸資訊、暗礁。
* **土地使用與規劃類（planningCadastre）**：與土地未來之使用資訊有關之主題，例如土地使用圖、都市計畫圖、地籍調查、土地所有權。
* **社會文化類（society）**：與社會文化特性有關之主題，例如社會福利、人類學、考古學、教育、傳統信仰、禮俗習慣、人口統計資料、娛樂活動、社會影響的評價、犯罪、司法審判、人口普查情報。
* **人工設施類（structure）**：與人工設施有關之主題，例如建築物、博物館、教堂、工廠、住家、紀念碑、商店、塔樓。
* **交通資訊類（transportation）**：與運輸有關之主題，例如道路、機場/航線、運輸路線、隧道、航海圖、飛機或船之位置、航圖、鐵路。
* **公共設施類（utilitiesCommunication）**： 與能源、廢棄物系統和公共通訊服務有關之主題，例如水利發電、地熱發電、太陽能與核能、水質淨化與供給、污水收集處理、電力和天然氣供給、數據交換、長途電信、無線電、通信網路。

將資料集加入相關主題群組前，您必須先完成資料集的完整發布（即完成 :ref:`adding_a_new_dataset` 內容所述步驟），接著執行下列步驟：

* 前往欲編輯資料集其所屬頁面（可藉由輸入關鍵字來找到您想修改的資料集）。

* 在資料集顯示頁面切換至「主題」頁籤。

    .. image:: /images/addGroup1.jpg

+ 選擇欲加入至該資料集的主題，點選「加入主題」鈕，即可加該主題於資料集內。

    .. image:: /images/addGroup2.jpg

.. _UI_editing_extend:

跨領域區域研究資料集補充─填寫輔助功能介紹
-----------------------------------------

.. _UI_editing_extend_time:

* **時間資訊**

本平台所定義之時間資訊為指資料內容所描述之時間範疇，並非資料產生或完成之日期，因此一個資料集內所描述內容之對應時間段可能為歷史中一模糊區段，無法以日期或時、分、秒精確描述，故在設計上時間資訊相關詮釋資料項目包含：

  * *時間區間捷徑* -- 本項目為便於時間資訊之選取，以臺灣過去歷史時期作為候選清單，當使用者直接選擇時間區間捷徑後，預設之起始、結束時間將自動代入。

  * *時間解析度* -- 時間解析度為表示資料內容對應時間所能精確描述之程度，依據本平台蒐集資料之特性，候選項目包含：百年、十年、年、月、日，依據不同解析度之選擇，需搭配對應之起始、結束時間內容。

  * *起始、結束時間* -- 為資料集之起始、結束時間點，接受的格式為YYYY（當時間解析度為「年/十年/百年」時）、YYYY-MM（當解析度為「月」時）、YYYY-MM-DD（當解析度為「日」時）。

.. image:: /images/timeInfo.jpg

.. _UI_editing_extend_spatial:

* **空間範圍**

本平台所定義之空間範圍為指資料集內容所約略對應之真實世界空間範圍，設計主要考量為用於空間索引，後續可進行空間搜尋操作，而在CKAN原始對於空間範圍的欄位規範上，其內容須符合GeoJSON格式標準，但對一般使用者而言直接產出GeoJSON格式內容並不容易，因此在介面上，本平台設計以下兩種方式：

  * *自四至範圍轉換* -- 若使用者已具有代表資料集空間範圍之四至經緯度坐標（即東西經度、南北緯度），則可填寫於對應之空間範圍欄位內，填寫完畢後點選「自四至範圍轉換」按鈕，系統將根據四至經緯度坐標自動產生對應之GeoJSON內容。

  * *使用圖台新增* -- 本平台亦提供地圖介面，讓使用者自行描繪資料集對應之空間範圍，並自動產生描繪範圍之GeoJSON內容。

.. image:: /images/spatialInfo.jpg

* **使用快捷方式代入帳號資訊**

若使用者即為資料集維護權責人，本平台提供一便捷的方式自動代入使用者帳號的個人資訊，點選「使用您的帳號資訊填入維護者與電子郵件」鈕，系統將自動填寫維護者及維護者電子郵件欄位（帳號個人資訊請參考 :ref:`managing_profile` 內容）。

.. image:: /images/profileInput.jpg

編輯資料集
----------

您可以編輯您所建立的資料集或是您所屬於的組織內的資料集。若一個資料集不屬於任一組織，則可被任何使用者帳號編修。

#. 前往欲編輯資料集其所屬頁面（可藉由輸入關鍵字來找到您想修改的資料集）。

#. 點選頁面右上方的「管理」功能鈕。

#. CKAN顯示資料集編輯的頁面，在「編輯中繼資料」頁籤中，您可以編輯頁面中任何的欄位內容（如：標題、摘要等）、變更資料集是否為公開。關於欄位的介紹可請參考 :ref:`adding_a_new_dataset` 部分。

#. 當您完成編輯後，點選「更新」以儲存您剛才所編輯的內容。

.. image:: /images/edit_dataset.jpg

新增、刪除及修改資源
--------------------

#. 前往欲編輯資料集其所屬頁面（參考上述步驟1、2）。

#. 在「資料」頁籤中，您可以進行該資料的編輯，您可以選擇一筆資料進行編輯或刪除，若您想為該筆資料集新增一筆資源，可點選「加入新資源」功能鈕。

#. 點選一筆資源進行編輯後，您可以修改該筆資源的描述資訊、變更資源的連結或上傳新的檔案（詳細請參考上述 「新增資源」步驟4-5）。

#. 當編輯完成後，點選「更新資源」鈕即可完成更新；若您想刪除該筆資源，則點擊「刪除」按鈕。

刪除資料集
----------

#. 前往欲編輯資料集其所屬頁面（參考上述「編輯資料集」）。

#. 點選「刪除」按鈕。

#. 頁面將顯示確認刪除資料集對話框，點選「確定」即可刪除該筆資料集內容（詮釋資料與資源）。

.. note::

   上述「刪除資料集」功能並非真正將資料集從CKAN中移除，而是將該筆資料集隱藏。因此刪除的資料集將無法透過介面被搜尋或查找得到。但若是於網址列上直接輸入該筆資料集之網址，您仍能看到該筆資料集的資訊（需具對應之權限）。若您需要「完整」從CKAN中移除該筆資料集，請聯繫系統管理員為您執行。

.. _creating_an_organization:

建立組織
--------

一般而言，每筆資料集都有其所屬的「組織」，而每個組織由不同的成員所組成，組織內的成員可以編輯組織內的資料集或發布新的資料集，而在CKAN中，組織管理者可以設定不同權限予不同的組織成員，例如：有些成員僅允許他有瀏覽組織內資料集的權限，特定使用者則具備發布與編輯資料集的權限。每一個組織都有其所屬頁面，使用者可以在組織頁面內查看該組織的資訊並搜尋組織內的資料。CKAN的組織機制提供特定單位控管其內部發布政策。

建立組織流程：

#. 點選頁面上方的「組織」頁籤。

#. 點選搜尋列下方的「建立組織」功能鈕。

#. CKAN將顯示建立組織的頁面。

#. 您必須輸入組織的名稱，您可以選擇是否建立組織描述或為組織加入一張代表圖片。

#. 點擊「建立組織」按鈕，CKAN將建立該組織並顯示該組織的首頁內容（該組織內目前應無任何資料集）。

.. image:: /images/create_organization.jpg

您現在可以設定組織內其他成員之使用權限，請參考下段 :ref:`managing_an_organization` 內容；您也可以建立組織內的資料集，請參考上述 :ref:`adding_a_new_dataset` 內容。

.. note::

   根據CKAN網站的管理員的設定，並非每個帳號都有建立新組織的權限，當您想建立新組織但不具權限時，您可以聯繫該CKAN網站之管理員。


.. _managing_an_organization:

管理組織
--------

當您建立一個新組織時，CKAN會自動將您設定為該組織之「管理者」。在組織首頁內您可以看到搜尋框上方之「管理」功能鍵，當您點選該功能鍵即可進入組織管理介面。組織管理介面包含下列兩頁籤功能：

* *資訊* -- 本頁籤內您可以編輯組織的資訊（名稱、描述、組織圖片）。

* *成員* -- 本頁籤內您可以新增、移除組織成員或變更組織成員之權限（您需要事先知道欲加入組織成員者於CKAN之使用者帳號）。

.. image:: /images/manage_organization.jpg

CKAN包含下列三種組織權限：

* *成員* -- 可以瀏覽組織內之非公開資料集。

* *編輯者* -- 可以編輯或新增組織內資料集。

* *管理者* -- 可以新增、刪除組織成員，或變更成員權限。

.. _finding_data:

查找資料
========

全站搜尋
--------

您可以在搜尋框內輸入任意的關鍵字組合來找尋資料，（如：健康、交通），CKAN將回傳符合搜尋關鍵字條件的資料集於搜尋結果頁面，您可以再進一步：

* 瀏覽更多頁的搜尋結果。

* 以不同的關鍵字再進行搜尋。

* 以特定的「標籤」、「格式」等位於頁面左側欄位的過濾條件來進一步約制搜尋的結果。

當您所回傳的搜尋結果數目很龐大時，過濾條件的功能將會非常實用，CKAN可以結合多重的過濾條件，並動態地新增與移除過濾條件，當您重新輸入關鍵字時，這些過濾條件也仍繼續被保留。

.. image:: /images/search_the_site.jpg

跨領域區域研究資料集補充─時間搜尋功能介紹
-----------------------------------------

本平台已擴充時間搜尋功能，您可以設定感興趣資料之時間區間，當您進到資料集搜尋頁面時，時間搜尋條件設定位於頁面左側欄位處。

本平台提供兩種時間搜尋條件設定方式：

#. 以拖拉方式設定搜尋時間軸。

#. 選擇預設感興趣的時間區間：本系統預設台灣過去歷史時段區間，您可以直接選擇感興趣之歷史區間。

.. image:: /images/time_search.jpg
  
跨領域區域研究資料集補充─空間搜尋功能介紹
-----------------------------------------

本跨領域區域研究資料集擴充時間搜尋功能，您可以設定感興趣資料之時間區間，當您進到資料集搜尋頁面時，空間搜尋條件設定位於頁面左側欄位處。

本功能為針對資料集詮釋資料中之空間資訊欄位（請參閱 :ref:`UI_editing_extend` 中「空間範圍」內容），若詮釋資料中該欄位無記錄，則可能無法由此功能找尋得該資料集。

其操作步驟如下：

#. 點選地圖視窗右上方之畫筆圖示。

   .. image:: /images/spatial_search1.jpg
      
#. 點擊後，地圖將展開於搜尋頁面正上方，此時您可於地圖上畫設感興趣之空間範圍。

   .. image:: /images/spatial_search2.jpg
      
#. 當您劃設範圍完成後，地圖將縮回搜尋頁面左側欄位，系統並自動進行過濾符合條件之資料集。

   .. image:: /images/spatial_search3.jpg

#. 若您想重新設定空間查詢條件，則再重新執行上述步驟1-2。

搜尋組織內的資料集
------------------

若您想找尋特定組織內的資料集，您可以在該組織的頁面內進行搜尋：

#. 點選CKAN頁面上方「組織」頁籤。

#. 點選您所欲搜尋的組織項目，頁面將顯示該組織的首頁。

#. 輸入您所欲搜尋的關鍵字於組織頁面上方的搜尋框。

CKAN將回傳於該組織內符合您所設定搜尋條件的資料集。

如果您對於特定組織所發布的資料內容感興趣，您可以在該組織的首頁左方欄處，點選「跟隨」功能鍵，您將可以收到該組織資料集變動的通知（詳細內容請參考 :ref:`managing_your_news_feed` ）。

探索資料集
----------

當您找到您所感興趣的資料集後，您可以點選該筆資料集進一步了解內容，您可以看到：

* 該筆資料集的名稱、描述以及其他相關詮釋資料資訊。

* 該筆資料集所包含的資源與其對應連結。

.. image:: /images/exploring_datasets.jpg

每筆資源的連結將會導向每個資源的描述頁面，或者也可以直接下載該筆資源。CKAN另一個強大的功能為資源的「預覽」功能，許多格式的資源可以直接在CKAN的資源頁面上預覽，如CSV、Execel等類型的資源可以直接顯示表格在網頁上；透過額外的設定，CKAN也允許直接在頁面上瀏覽PDF、影像、網頁。

資料集顯示頁面另外包含兩個頁籤功能：

* *動態牆* -- 您可以瀏覽到該筆資料集歷史的修改記錄。

* *關於* -- 您可以看到與該筆資料集有關之連結，您也可以自行新增有相關的連結。

若您對特定資料集感興趣，您可以點選資料集頁面左欄處的「跟隨」功能鈕，訂閱該筆資料集，詳細可參考下段 :ref:`managing_your_news_feed` 內容（您必須具使用者帳號才能執行該功能）。

.. _data_preview:

跨領域區域研究資料集補充─資料預覽功能介紹
-----------------------------------------

CKAN的「資源」頁面的一項強大的功能為提供使用者「資料預覽」的介面，您可以透過介面預覽資料的內容，來評估資料是否符合您的需求，其操作步驟為：

#. 前往欲編輯資料集其所屬頁面（可藉由輸入關鍵字來找到您想修改的資料集）。

#. 在「資料與資源」清單內，於欲預覽資源的項目上，點選「探索」鈕內之「預覽」功能鈕。

   .. image:: /images/data_preview.jpg
    
#. 在資源顯示頁面您即可瀏覽資料集內容。

   .. image:: /images/data_preview2.jpg
    
CKAN預設會依據資源詮釋資料的「格式」項目設定資料預覽（參閱 :ref:`adding_a_new_dataset` 步驟5內容），下列為本平台支援之預覽格式：

* 文字類：txt, html, xml,json, geojson。

* 影像類：png, jpg, jpeg, gif。

* 表格類：csv, xls(x)。

* 空間資料：WMTS, WMS, Shapefile（Shapefile請標記為「shp」，否則將無法預覽）。

* 其他：PDF, 一般網頁連結。

當您所設定之資源格式類型符合上述任一項目時，CKAN系統即會自動判別對應之預覽介面呈現。

此外，單一資源可以設定多種預覽呈現方式，例如原始資料格式若為CSV格式，則CKAN預設以表格類的方式提供資料預覽介面，但實際資料內容若有包含空間資訊，資料提供者可再另行建立空間預覽的介面，如下二圖所示：

.. image:: /images/data_preview3.jpg

.. image:: /images/data_preview4.jpg

欲新增預覽介面於特定資源頁面之步驟如下：

#. 前往欲新增預覽介面之資源頁面。

#. 點選「管理」功能鈕（您需具有編輯該資料集的權限才會顯示此功能鈕）。

   .. image:: /images/new_preview.jpg
    
#. 在資源編輯頁面內切換至「檢視」頁籤，並於「新增檢視」下拉選單內，選擇適合該資源的預覽類型後進行設定：

   * Data Explorer：可同時提供表格、統計圖、地圖介面三種預覽方式，可於設定內選擇過濾的條件（如某欄位的值須大於門檻值才會顯示）。

   * Grid：提供表格預覽介面，可於設定內選擇過濾的條件。

   * Map：提供地圖預覽介面，您須於設定內指定代表經緯度的欄位，亦可設定過濾條件。

   * 圖片：您可新增一張外部圖片（須為連結）來做為資源預覽圖。

   * 網站：您可新增一個網站連結來做為預覽介面。

   .. image:: /images/new_preview2.jpg

#. 完成預覽模式設定後按「新增」即完成新增預覽（您也可以使用「預覽」按鈕來事先查看完成發布後的情況）。

.. _data_api:

資料API
=======

對於結構化之資源內容，如CVS、Excel檔案等，當您將其上傳至CKAN後，CKAN會自動將結構化資源匯入後端資料庫，並自動產生每一個資源對應的資料存取API介面，開發者即可透過使用此API介面來開發應用服務或系統。取得結構化資源API的方式為：

#. 前往該資源頁面。

#. 點選頁面「資料API」功能鈕，頁面將顯示該筆資源的API介面與操作方式。

   .. image:: /images/data_api.jpg

   .. image:: /images/data_api2.jpg
  
#. 部分API操作功能會需要使用者帳號的API Key作為認證，取得API Key的方式為至個人資訊頁面，API Key將顯示於頁面左欄下方處。

    .. image:: /images/data_api3.jpg

個人化設定
==========

CKAN提供部分個人化設定功能，您可以設定搜尋資料或發布資料時的喜好（以下功能需先登入帳號後方能執行）。

.. _managing_your_news_feed:

新聞消息來源
------------

在CKAN頁面最上方，為固定的使用者帳號功能列，請點選儀表版圖示（位於您的帳號名稱右方），儀錶板頁面將顯示您所訂閱的資料集變動消息、您所加入或訂閱組織的資料集變動情況、或您於CKAN上的操作資料集的歷史記錄。儀錶板上的數字顯示為自您上回查看儀表板後所新增的新聞消息。此外，除了組織與資料集，您也可以訂閱特定的使用者帳號。

.. image:: /images/manage_news_feed.jpg

若您想停止追蹤特定資料集（或組織），您可以至該筆資料集的頁面點選「取消追蹤」。

.. _managing_profile:

帳號資訊
--------

您可以於帳號資訊頁面變更您在CKAN中的個人資訊設定。您可於頁面最上方的使用者帳號功能列，點選齒輪圖示進入帳號資訊頁面。

.. image:: /images/manage_user_profile.jpg

您可以於使用者設定頁面修改下列資訊：

* 帳號

* 使用者名稱

* 電子郵件（本資訊為非公開性）

* 您的個人簡介

* 密碼

.. note::

   如果您修改您的使用者帳號，CKAN將會將您目前的帳號登出，您必須以新的帳號進行登入。

.. _limitation:

系統限制
========

目前本研究資料集之系統限制包含以下：

* 檔案上傳大小限制：約容許1GB內之檔案上傳。

* 預覽檔案限制：一般檔案可預覽的大小約20MB，PDF檔案可允許較大檔案容量預覽（數十MB）。

* 檔案名稱長度限制：為3至100字元（包含附檔名，中文以字為單位，英文以字母為單位）。
